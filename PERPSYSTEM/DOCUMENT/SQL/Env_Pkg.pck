Create Or Replace Package Env_Pkg Is

   Function Get_Env(p_Sub_Id Number) Return Varchar2; -- 'Y' , 'N';
   Function Env_Id Return Number;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Sub_Id Return Number;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Db_Host Return Varchar2;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Db_Port Return Number;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Sid Return Varchar2;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Db_User Return Varchar2;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Db_Pwd Return Varchar2;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function App_Host Return Varchar2;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Setup_Date Return Date;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Removed_Date Return Date;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Current_Num_Of_App_User Return Number;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Description Return Varchar2;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function App_Port Return Number;

End Env_Pkg;
/
Create Or Replace Package Body Env_Pkg Is

   v_Env_Id Number;

   v_Sub_Id Number;

   v_Db_Host Varchar2(32);

   v_Db_Port Number;

   v_Sid Varchar2(32);

   v_Db_User Varchar2(32);

   v_Db_Pwd Varchar2(100);

   v_App_Host Varchar2(32);

   v_Setup_Date Date;

   v_Removed_Date Date;

   v_Current_Num_Of_App_User Number;

   v_Description Varchar2(240);

   v_App_Port Number;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Get_Env(p_Sub_Id Number) Return Varchar2 As
   Begin
      v_Env_Id                  := 1;
      v_Sub_Id                  := p_Sub_Id;
      v_Db_Host                 := '192.168.0.200'; -- '192.168.0.200';
      v_Db_Port                 := 1521;
      v_Sid                     := 'perp'; -- 'perpdb';
      v_Db_User                 := 'apps'; -- 'apps';
      v_Db_Pwd                  := 'apps01'; -- 'apps01';
      v_App_Host                := '192.168.0.123'; -- May app .
      v_Setup_Date              := Sysdate;
      v_Removed_Date            := Null;
      v_Current_Num_Of_App_User := 1;
      v_Description             := 'su dung test';
      v_App_Port                := '7778';
      Select Env.Env_Id
            ,Env.Sub_Id
            ,Env.Db_Host
            ,Env.Db_Port
            ,Env.Sid
            ,Env.Db_User
            ,Env.Db_Pwd
            ,Env.App_Host
            ,Env.App_Port
            ,Env.Current_Num_Of_App_User
            ,Env.Setup_Date
            ,Env.Removed_Date
            ,Env.Descriptions
      Into   v_Env_Id
            ,v_Sub_Id
            ,v_Db_Host
            ,v_Db_Port
            ,v_Sid
            ,v_Db_User
            ,v_Db_Pwd
            ,v_App_Host
            ,v_App_Port
            ,v_Current_Num_Of_App_User
            ,v_Setup_Date
            ,v_Removed_Date
            ,v_Description
      From   Environments@Adminlink Env
      Where  Env.Sub_Id = p_Sub_Id
      And    Rownum = 1; --*/
      Return 'Y';
   Exception
      When Others Then
         Return 'N';
   End Get_Env;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Env_Id Return Number As
   Begin
      Return v_Env_Id;
   End Env_Id;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Sub_Id Return Number As
   Begin
      Return v_Sub_Id;
   End Sub_Id;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Db_Host Return Varchar2 As
   Begin
      Return v_Db_Host;
   End Db_Host;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Db_Port Return Number As
   Begin
      Return v_Db_Port;
   End Db_Port;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Sid Return Varchar2 As
   Begin
      Return v_Sid;
   End Sid;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Db_User Return Varchar2 As
   Begin
      Return v_Db_User;
   End Db_User;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Db_Pwd Return Varchar2 As
   Begin
      Return v_Db_Pwd;
   End Db_Pwd;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function App_Host Return Varchar2 As
   Begin
      Return v_App_Host;
   End App_Host;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Setup_Date Return Date As
   Begin
      Return v_Setup_Date;
   End Setup_Date;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Removed_Date Return Date As
   Begin
      Return v_Removed_Date;
   End Removed_Date;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Current_Num_Of_App_User Return Number As
   Begin
      Return v_Current_Num_Of_App_User;
   End Current_Num_Of_App_User;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function Description Return Varchar2 As
   Begin
      Return v_Description;
   End Description;

   ------------------------------------------------------------------------------------------------------
   ------------------------------------------------------------------------------------------------------
   Function App_Port Return Number As
   Begin
      Return v_App_Port;
   End App_Port;

------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
End Env_Pkg;
/
